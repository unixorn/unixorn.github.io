<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to install Proxmox on a 2019 Macbook Pro | unixorn.github.io</title>
<meta name="keywords" content="apple, homelab, linux, mbp, proxmox">
<meta name="description" content="I recently replaced a 2019 Intel MacBook Pro with a M3 Macbook Air, so I decided to wipe it and install proxmox.
It wasn&rsquo;t as straightforward as installing on non-Apple hardware, so I&rsquo;m documenting what I had to do here.
Note that this post only covers getting things working on a MacBook Pro - look at the many online tutorials for what you should do once your node is up and running.">
<meta name="author" content="Me">
<link rel="canonical" href="http://localhost:1313/post/homelab/2025-02-01-install-proxmox-on-macbook-pro/">
<meta name="google-site-verification" content="UA-100853138-2">
<link crossorigin="anonymous" href="http://localhost:1313/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="apple-touch-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<link rel="mask-icon" href="http://localhost:1313/%3Clink%20/%20abs%20url%3E">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/post/homelab/2025-02-01-install-proxmox-on-macbook-pro/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="How to install Proxmox on a 2019 Macbook Pro" />
<meta property="og:description" content="I recently replaced a 2019 Intel MacBook Pro with a M3 Macbook Air, so I decided to wipe it and install proxmox.
It wasn&rsquo;t as straightforward as installing on non-Apple hardware, so I&rsquo;m documenting what I had to do here.
Note that this post only covers getting things working on a MacBook Pro - look at the many online tutorials for what you should do once your node is up and running." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/homelab/2025-02-01-install-proxmox-on-macbook-pro/" />
<meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E" />
<meta property="article:section" content="post" />
<meta property="article:published_time" content="2025-02-01T10:18:01-07:00" />
<meta property="article:modified_time" content="2025-02-01T10:18:01-07:00" /><meta property="og:site_name" content="The Plural of SRE is an Outage" />



<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to install Proxmox on a 2019 Macbook Pro",
      "item": "http://localhost:1313/post/homelab/2025-02-01-install-proxmox-on-macbook-pro/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to install Proxmox on a 2019 Macbook Pro",
  "name": "How to install Proxmox on a 2019 Macbook Pro",
  "description": "I recently replaced a 2019 Intel MacBook Pro with a M3 Macbook Air, so I decided to wipe it and install proxmox.\nIt wasn\u0026rsquo;t as straightforward as installing on non-Apple hardware, so I\u0026rsquo;m documenting what I had to do here.\nNote that this post only covers getting things working on a MacBook Pro - look at the many online tutorials for what you should do once your node is up and running.\n",
  "keywords": [
    "apple", "homelab", "linux", "mbp", "proxmox"
  ],
  "articleBody": "I recently replaced a 2019 Intel MacBook Pro with a M3 Macbook Air, so I decided to wipe it and install proxmox.\nIt wasn’t as straightforward as installing on non-Apple hardware, so I’m documenting what I had to do here.\nNote that this post only covers getting things working on a MacBook Pro - look at the many online tutorials for what you should do once your node is up and running.\nI’ve been wanting to experiment with proxmox in my homelab for a while, and when I replaced my old Intel MacBook Pro with a M3 Macbook Air, I decided it was a good time to start.\nWhen I did this install, the current version of Proxmox was 8.3.0.\nPre-requisites Make a backup The install is going to wipe your Mac’s disk, so make sure you’ve backed up any files you care about.\nA boot drive As with a normal proxmox install, I downloaded a installer from https://proxmox.com/en/downloads then burned it to a thumb drive with Etcher, but use whatever tool you’re comfortable with.\nNetwork setup Proxmox doesn’t do DHCP during install, so you’re going to need to collect your network information. I recommend you pick an address outside you DHCP pool so you don’t have to worry about IP address collisions. While you’re still running macOS, open System Settings, then select Network so you can collect the current working IP address, router, and DNS servers.\nHardware Once you boot into the Proxmox installer it doesn’t recognize a lot of the MacBook Pro’s hardware, so you’ll need some hardware to get through installation. Once the install’s complete, everything can get done through the webUI or via ssh.\nYou’ll going to need:\nUSB hub USB keyboard and mouse. Proxmox 8.3.0 doesn’t recognize the MacBook Pro’s keyboard or trackpad A USB ethernet dongle. Running a server node over WIFI is a bad idea to begin with, and a stock install of Proxmox 8.3.0 doesn’t recognize the MBP’s WIFI either so you don’t get a choice. Installing Disable Boot Security By default, Macbooks with a T2 chip won’t boot off external devices, or boot unsigned operating systems.\nTo unlock the security restrictions:\nReboot into recovery mode by holding Command-R while rebooting Once you’re in recovery mode, open Startup Security Utility - it’s in Utilities -\u003e Startup Security Utility Set Secure Boot to No Security Set Allow booting from external or removable media You’re set to start the proxmox install\nProxmox install Connect the install drive, keyboard, mouse and ethernet dongles. Reboot while holding the Option key. You should see a menu of drives come up. If not, you didn’t press the Option key fast enough, reboot and try again. You’ll see your Mac’s drive, a UEFI option, and a GRUB option. On my 2019 MacBook Pro, I had to pick UEFI. The Proxmox splash screen will appear. Pick your install option. I picked graphical because when I tried the terminal option the text was so small it was hard to read. Read and accept the EULA. Choose the drive you want to install on. Click the Options button if you want to change from the default ext4 filesystem. Set your country and time zone. Set password and email address. Set up the network with the address, router, and DNS information you collected earlier. Choose your FQDN wisely - it’s a pita to change the name once you’ve created VMs or LXC containers. It’ll present a summary. Make sure everything is correct, especially the network information, then click install. On my MBP, it took less than ten minutes to install proxmox and prompt me to remove the install disk and let it reboot. You’ll see a login screen, with instructions on what URL to use to manage the instance.\nGotchas As of 2025-02-01, I ran into the following issues after installing proxmox 8.3.0 on a 2019 MacBook Pro.\nThe node goes to sleep when the lid is closed If you’re going to use this as a proxmox cluster node, you’re not going to want it going to sleep just because you closed the laptop lid.\nTo disable sleeping when the lid is closed, edit /etc/systemd/logind.conf as root.\nChange the HandleLidSwitch entries to ignore - they should look like\nHandleLidSwitch=ignore HandleLidSwitchExternalPower=ignore HandleLidSwitchDocked=ignore Then\nsudo systemctl reload logind You should now be able to close the lid without the node going to sleep.\nNetworking not coming up automatically during boot I installed on both an old Mac Mini and a MacBook Pro. On the Mac Mini, networking (using the built in ethernet) worked fine, but on the MacBook Pro it failed to bring up the network.\nOnce I logged into the console, I did some poking, and it looks like what’s happening is that systemd-udev-settle fails during boot, probably because my ethernet adapter is USB-C, and the networking systemd unit won’t start. But after boot, systemctl restart networking detects the adapter and brings it up.\nI don’t want to have to log into the console every boot, of course, so I wrote a helper script that restarts networking if it’s down.\nDownload from kick-mbp-networking\n#!/usr/bin/env bash # # kick-mbp-networking # # This script is Apache 2.0 licensed. # # Networking on proxmox on my 2019 MacBook Pro stubbornly fails to come up # during boot, but a systemctl networking restart will fix it. # # Stick this into root's crontab as a @reboot item and it will fix the # damned networking # # The entry should look like: # m h dom mon dow command #@reboot /usr/local/sbin/kick-mbp-networking # # Copyright 2025, Joe Block set -o pipefail if [[ -n \"$DEBUG\" ]]; then # shellcheck disable=SC2086 if [[ \"$(echo $DEBUG | tr '[:upper:]' '[:lower:]')\" == \"verbose\" ]]; then set -x fi fi function debug() { if [[ -n \"$DEBUG\" ]]; then echo \"$@\" fi } function echo-stderr() { echo \"$@\" 1\u003e\u00262 ## Send message to stderr. } function fail() { printf '%s\\n' \"$1\" \u003e\u00262 ## Send message to stderr. Exclude \u003e\u00262 if you don't want it that way. exit \"${2-1}\" ## Return a code specified by $2 or 1 by default. } function has() { # Check if a command is in $PATH which \"$@\" \u003e /dev/null 2\u003e\u00261 } function get-settings() { LOG_F=${LOG_F:-'/root/mbp-network-weirdness.log'} } function check-dependencies() { # Confirm the stuff we need is in $PATH debug \"Checking dependencies...\" # shellcheck disable=SC2041 for p in 'ip' 'systemctl' do if ! has $p; then fail \"Can't find $p in your $PATH\" else debug \"- Found $p\" fi done } function path-exists() { local file=\"${1}\" [[ -s \"${file}\" ]] || fail \"$1 is not valid\" [[ -d \"${file}\" ]] \u0026\u0026 return [[ -f \"${file}\" ]] \u0026\u0026 return fail \"$1 is not a directory or file\" } function restart-networking-if-down() { debug \"$LOG_F\" # Check if the vmbr interface is present if [[ $(ip link show | grep -c vmbr) != 0 ]]; then debug \"ip link show = $(ip link show)\" | tee -a \"$LOG_F\" debug \"Networking is up\" | tee -a \"$LOG_F\" else debug \"Networking was down after boot, restarting at $(date)\" | tee -a \"$LOG_F\" echo \"Restarting networking after failed to start during boot at $(date)\" | tee -a \"$LOG_F\" time systemctl restart networking | tee -a \"$LOG_F\" fi } check-dependencies get-settings restart-networking-if-down Put the script in /usr/local/sbin/kick-mbp-networking, then add it as a cron reboot job. As root, run crontab -e, then add a line to run the script. The crontab entry should look like\n# m h dom mon dow command @reboot /usr/local/sbin/kick-mbp-networking Test it by rebooting. You should now be able to access proxmox’s web ui without having to enable networking manually in a console session.\nFinally You should now have a working proxmox node you can safely use, either as a standalone machine or as part of a cluster.\n",
  "wordCount" : "1297",
  "inLanguage": "en",
  "image": "http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished": "2025-02-01T10:18:01-07:00",
  "dateModified": "2025-02-01T10:18:01-07:00",
  "author":{
    "@type": "Person",
    "name": "Me"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/post/homelab/2025-02-01-install-proxmox-on-macbook-pro/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "unixorn.github.io",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/%3Clink%20/%20abs%20url%3E"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Home (Alt + H)">
                <img src="http://localhost:1313/apple-touch-icon.png" alt="" aria-label="logo"
                    height="35">Home</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives/" title="archives">
                    <span>archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="about">
                    <span>about</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="projects">
                    <span>projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://hachyderm.io/@unixorn" title="hachyderm.io/@unixorn">
                    <span>hachyderm.io/@unixorn</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<link rel="stylesheet" type="text/css" href="http://localhost:1313/css/mastodon.css" />
<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/post/">Posts</a></div>
    <h1 class="post-title">
      How to install Proxmox on a 2019 Macbook Pro
    </h1>
    <div class="post-meta"><span title='2025-02-01 10:18:01 -0700 MST'>February 1, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1297 words&nbsp;·&nbsp;Me

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#pre-requisites">Pre-requisites</a>
      <ul>
        <li><a href="#make-a-backup">Make a backup</a></li>
        <li><a href="#a-boot-drive">A boot drive</a></li>
        <li><a href="#network-setup">Network setup</a></li>
        <li><a href="#hardware">Hardware</a></li>
      </ul>
    </li>
    <li><a href="#installing">Installing</a>
      <ul>
        <li><a href="#disable-boot-security">Disable Boot Security</a></li>
        <li><a href="#proxmox-install">Proxmox install</a></li>
        <li><a href="#gotchas">Gotchas</a></li>
      </ul>
    </li>
    <li><a href="#finally">Finally</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>I recently replaced a 2019 Intel MacBook Pro with a M3 Macbook Air, so I decided to wipe it and install <a href="https://www.proxmox.com">proxmox</a>.</p>
<p>It wasn&rsquo;t as straightforward as installing on non-Apple hardware, so I&rsquo;m documenting what I had to do here.</p>
<p>Note that this post only covers getting things working on a MacBook Pro - look at the many online tutorials for what you should do once your node is up and running.</p>
<p>I&rsquo;ve been wanting to experiment with <a href="https://www.proxmox.com">proxmox</a> in my homelab for a while, and when I replaced my old Intel MacBook Pro with a M3 Macbook Air, I decided it was a good time to start.</p>
<p>When I did this install, the current version of Proxmox was 8.3.0.</p>
<h2 id="pre-requisites">Pre-requisites<a hidden class="anchor" aria-hidden="true" href="#pre-requisites">#</a></h2>
<h3 id="make-a-backup">Make a backup<a hidden class="anchor" aria-hidden="true" href="#make-a-backup">#</a></h3>
<p>The install is going to wipe your Mac&rsquo;s disk, so make sure you&rsquo;ve backed up any files you care about.</p>
<h3 id="a-boot-drive">A boot drive<a hidden class="anchor" aria-hidden="true" href="#a-boot-drive">#</a></h3>
<p>As with a normal proxmox install, I downloaded a installer from <a href="https://proxmox.com/en/downloads">https://proxmox.com/en/downloads</a> then burned it to a thumb drive with <a href="https://etcher.balena.io/">Etcher</a>, but use whatever tool you&rsquo;re comfortable with.</p>
<h3 id="network-setup">Network setup<a hidden class="anchor" aria-hidden="true" href="#network-setup">#</a></h3>
<p>Proxmox doesn&rsquo;t do DHCP during install, so you&rsquo;re going to need to collect your network information. I recommend you pick an address outside you DHCP pool so you don&rsquo;t have to worry about IP address collisions. While you&rsquo;re still running macOS, open <code>System Settings</code>, then select Network so you can collect the current working IP address, router, and DNS servers.</p>
<h3 id="hardware">Hardware<a hidden class="anchor" aria-hidden="true" href="#hardware">#</a></h3>
<p>Once you boot into the Proxmox installer it doesn&rsquo;t recognize a lot of the MacBook Pro&rsquo;s hardware, so you&rsquo;ll need some hardware to get through installation. Once the install&rsquo;s complete, everything can get done through the webUI or via <code>ssh</code>.</p>
<p>You&rsquo;ll going to need:</p>
<ul>
<li>USB hub</li>
<li>USB keyboard and mouse. Proxmox 8.3.0 doesn&rsquo;t recognize the MacBook Pro&rsquo;s keyboard or trackpad</li>
<li>A USB ethernet dongle. Running a server node over WIFI is a bad idea to begin with, and a stock install of Proxmox 8.3.0 doesn&rsquo;t recognize the MBP&rsquo;s WIFI either so you don&rsquo;t get a choice.</li>
</ul>
<h2 id="installing">Installing<a hidden class="anchor" aria-hidden="true" href="#installing">#</a></h2>
<h3 id="disable-boot-security">Disable Boot Security<a hidden class="anchor" aria-hidden="true" href="#disable-boot-security">#</a></h3>
<p>By default, Macbooks with a T2 chip won&rsquo;t boot off external devices, or boot unsigned operating systems.</p>
<p>To unlock the security restrictions:</p>
<ol>
<li>Reboot into recovery mode by holding <code>Command-R</code> while rebooting</li>
<li>Once you&rsquo;re in recovery mode, open <code>Startup Security Utility</code> - it&rsquo;s in <code>Utilities</code> -&gt; <code>Startup Security Utility</code></li>
<li>Set <code>Secure Boot</code> to <code>No Security</code></li>
<li>Set <code>Allow booting from external or removable media</code></li>
</ol>
<p>You&rsquo;re set to start the proxmox install</p>
<h3 id="proxmox-install">Proxmox install<a hidden class="anchor" aria-hidden="true" href="#proxmox-install">#</a></h3>
<ol>
<li>Connect the install drive, keyboard, mouse and ethernet dongles.</li>
<li>Reboot while holding the <code>Option</code> key. You should see a menu of drives come up. If not, you didn&rsquo;t press the <code>Option</code> key fast enough, reboot and try again.</li>
<li>You&rsquo;ll see your Mac&rsquo;s drive, a <code>UEFI</code> option, and a <code>GRUB</code> option. On my 2019 MacBook Pro, I had to pick <code>UEFI</code>.</li>
<li>The Proxmox splash screen will appear. Pick your install option. I picked graphical because when I tried the terminal option the text was so small it was hard to read.</li>
<li>Read and accept the EULA.</li>
<li>Choose the drive you want to install on. Click the <code>Options</code> button if you want to change from the default <code>ext4</code> filesystem.</li>
<li>Set your country and time zone.</li>
<li>Set password and email address.</li>
<li>Set up the network with the address, router, and DNS information you collected earlier. Choose your FQDN wisely - it&rsquo;s a pita to change the name once you&rsquo;ve created VMs or LXC containers.</li>
<li>It&rsquo;ll present a summary. Make sure everything is correct, especially the network information, then click install. On my MBP, it took less than ten minutes to install proxmox and prompt me to remove the install disk and let it reboot.</li>
</ol>
<p>You&rsquo;ll see a login screen, with instructions on what URL to use to manage the instance.</p>
<h3 id="gotchas">Gotchas<a hidden class="anchor" aria-hidden="true" href="#gotchas">#</a></h3>
<p>As of 2025-02-01, I ran into the following issues after installing proxmox 8.3.0 on a 2019 MacBook Pro.</p>
<h4 id="the-node-goes-to-sleep-when-the-lid-is-closed">The node goes to sleep when the lid is closed<a hidden class="anchor" aria-hidden="true" href="#the-node-goes-to-sleep-when-the-lid-is-closed">#</a></h4>
<p>If you&rsquo;re going to use this as a proxmox cluster node, you&rsquo;re not going to want it going to sleep just because you closed the laptop lid.</p>
<p>To disable sleeping when the lid is closed, edit <code>/etc/systemd/logind.conf</code> as root.</p>
<p>Change the <code>HandleLidSwitch</code> entries to ignore - they should look like</p>
<pre tabindex="0"><code class="language-conf" data-lang="conf">HandleLidSwitch=ignore
HandleLidSwitchExternalPower=ignore
HandleLidSwitchDocked=ignore
</code></pre><p>Then</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">sudo systemctl reload logind
</span></span></code></pre></div><p>You should now be able to close the lid without the node going to sleep.</p>
<h4 id="networking-not-coming-up-automatically-during-boot">Networking not coming up automatically during boot<a hidden class="anchor" aria-hidden="true" href="#networking-not-coming-up-automatically-during-boot">#</a></h4>
<p>I installed on both an old Mac Mini and a MacBook Pro. On the Mac Mini, networking (using the built in ethernet) worked fine, but on the MacBook Pro it failed to bring up the network.</p>
<p>Once I logged into the console, I did some poking, and it looks like what&rsquo;s happening is that <code>systemd-udev-settle</code> fails during boot, probably because my ethernet adapter is USB-C, and the networking systemd unit won&rsquo;t start. But after boot, <code>systemctl restart networking</code> detects the adapter and brings it up.</p>
<p>I don&rsquo;t want to have to log into the console every boot, of course, so I wrote a helper script that restarts networking if it&rsquo;s down.</p>
<p>Download from <a href="http://localhost:1313/blog/proxmox/macbook-pro/kick-mbp-networking">kick-mbp-networking</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="cp">#!/usr/bin/env bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># kick-mbp-networking</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># This script is Apache 2.0 licensed.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Networking on proxmox on my 2019 MacBook Pro stubbornly fails to come up</span>
</span></span><span class="line"><span class="cl"><span class="c1"># during boot, but a systemctl networking restart will fix it.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Stick this into root&#39;s crontab as a @reboot item and it will fix the</span>
</span></span><span class="line"><span class="cl"><span class="c1"># damned networking</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># The entry should look like:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># m h  dom mon dow  command</span>
</span></span><span class="line"><span class="cl"><span class="c1">#@reboot /usr/local/sbin/kick-mbp-networking</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Copyright 2025, Joe Block &lt;jpb@unixorn.net&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">set</span> -o pipefail
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">[[</span> -n <span class="s2">&#34;</span><span class="nv">$DEBUG</span><span class="s2">&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># shellcheck disable=SC2086</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="o">[[</span> <span class="s2">&#34;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$DEBUG</span> <span class="p">|</span> tr <span class="s1">&#39;[:upper:]&#39;</span> <span class="s1">&#39;[:lower:]&#39;</span><span class="k">)</span><span class="s2">&#34;</span> <span class="o">==</span> <span class="s2">&#34;verbose&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">set</span> -x
</span></span><span class="line"><span class="cl">  <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> debug<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="o">[[</span> -n <span class="s2">&#34;</span><span class="nv">$DEBUG</span><span class="s2">&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> echo-stderr<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span> 1&gt;<span class="p">&amp;</span><span class="m">2</span>  <span class="c1">## Send message to stderr.</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> fail<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">printf</span> <span class="s1">&#39;%s\n&#39;</span> <span class="s2">&#34;</span><span class="nv">$1</span><span class="s2">&#34;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>  <span class="c1">## Send message to stderr. Exclude &gt;&amp;2 if you don&#39;t want it that way.</span>
</span></span><span class="line"><span class="cl">  <span class="nb">exit</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">2</span><span class="p">-1</span><span class="si">}</span><span class="s2">&#34;</span>  <span class="c1">## Return a code specified by $2 or 1 by default.</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> has<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># Check if a command is in $PATH</span>
</span></span><span class="line"><span class="cl">  which <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span> &gt; /dev/null 2&gt;<span class="p">&amp;</span><span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> get-settings<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nv">LOG_F</span><span class="o">=</span><span class="si">${</span><span class="nv">LOG_F</span><span class="k">:-</span><span class="s1">&#39;/root/mbp-network-weirdness.log&#39;</span><span class="si">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> check-dependencies<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># Confirm the stuff we need is in $PATH</span>
</span></span><span class="line"><span class="cl">  debug <span class="s2">&#34;Checking dependencies...&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># shellcheck disable=SC2041</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> p in <span class="s1">&#39;ip&#39;</span> <span class="s1">&#39;systemctl&#39;</span>
</span></span><span class="line"><span class="cl">  <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> ! has <span class="nv">$p</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">      fail <span class="s2">&#34;Can&#39;t find </span><span class="nv">$p</span><span class="s2"> in your </span><span class="nv">$PATH</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">      debug <span class="s2">&#34;- Found </span><span class="nv">$p</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">fi</span>
</span></span><span class="line"><span class="cl">  <span class="k">done</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> path-exists<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="nb">local</span> <span class="nv">file</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">1</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">[[</span> -s <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">]]</span> <span class="o">||</span> fail <span class="s2">&#34;</span><span class="nv">$1</span><span class="s2"> is not valid&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">[[</span> -d <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return</span>
</span></span><span class="line"><span class="cl">  <span class="o">[[</span> -f <span class="s2">&#34;</span><span class="si">${</span><span class="nv">file</span><span class="si">}</span><span class="s2">&#34;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="k">return</span>
</span></span><span class="line"><span class="cl">  fail <span class="s2">&#34;</span><span class="nv">$1</span><span class="s2"> is not a directory or file&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">function</span> restart-networking-if-down<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  debug <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># Check if the vmbr interface is present</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="o">[[</span> <span class="k">$(</span>ip link show <span class="p">|</span> grep -c vmbr<span class="k">)</span> !<span class="o">=</span> <span class="m">0</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    debug <span class="s2">&#34;ip link show = </span><span class="k">$(</span>ip link show<span class="k">)</span><span class="s2">&#34;</span> <span class="p">|</span> tee -a <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    debug <span class="s2">&#34;Networking is up&#34;</span> <span class="p">|</span> tee -a <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span>
</span></span><span class="line"><span class="cl">    debug <span class="s2">&#34;Networking was down after boot, restarting at </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&#34;</span> <span class="p">|</span> tee -a <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Restarting networking after failed to start during boot at </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&#34;</span> <span class="p">|</span> tee -a <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">time</span> systemctl restart networking <span class="p">|</span> tee -a <span class="s2">&#34;</span><span class="nv">$LOG_F</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">check-dependencies
</span></span><span class="line"><span class="cl">get-settings
</span></span><span class="line"><span class="cl">restart-networking-if-down
</span></span></code></pre></div><p>Put the script in <code>/usr/local/sbin/kick-mbp-networking</code>, then add it as a cron reboot job. As root,
run <code>crontab -e</code>, then add a line to run the script. The crontab entry should look like</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># m h  dom mon dow  command</span>
</span></span><span class="line"><span class="cl">@reboot /usr/local/sbin/kick-mbp-networking
</span></span></code></pre></div><p>Test it by rebooting. You should now be able to access proxmox&rsquo;s web ui without having to enable networking manually in a console session.</p>
<h2 id="finally">Finally<a hidden class="anchor" aria-hidden="true" href="#finally">#</a></h2>
<p>You should now have a working proxmox node you can safely use, either as a standalone machine or as part of a cluster.</p>

  </div>
  <div>
    
<div class="article-content">
  <h2>Comments</h2>
  <p>You can use your Mastodon account to reply to this<a class="button" href="https://hachyderm.io/@unixorn/113935290602365053">post</a></p>
  <p><button class="button" id="replyButton" href="https://hachyderm.io/@unixorn/113935290602365053">Reply</button></p>
  <dialog id="toot-reply" class="mastodon" data-component="dialog">
    <h3>Reply to unixorn's post</h3>
    <p>
      With an account on the Fediverse or Mastodon, you can respond to this post.
      Since Mastodon is decentralized, you can use your existing account hosted by another Mastodon server or compatible platform if you don't have an account on this one.
    </p>
    <p>Copy and paste this URL into the search field of your favourite Fediverse app or the web interface of your Mastodon server.</p>
    <div class="copypaste">
      <input type="text" readonly="" value="https://hachyderm.io/@unixorn/113935290602365053">
      <button class="button" id="copyButton">Copy</button>
      <button class="button" id="cancelButton">Close</button>
    </div>
  </dialog>
  <p id="mastodon-comments-list"><button id="load-comment" class="button">Load comments</button></p>
  <noscript><p>You need JavaScript to view the comments.</p></noscript>
  <script src="http://localhost:1313/assets/js/purify.min.js"></script>
  <script type="text/javascript">
    const dialog = document.querySelector('dialog');

    document.getElementById('replyButton').addEventListener('click', () => {
      dialog.showModal();
    });

    document.getElementById('copyButton').addEventListener('click', () => {
      navigator.clipboard.writeText('https://hachyderm.io/@unixorn/113935290602365053');
    });

    document.getElementById('cancelButton').addEventListener('click', () => {
      dialog.close();
    });

    dialog.addEventListener('keydown', e => {
      if (e.key === 'Escape') dialog.close();
    });

    const dateOptions = {
      year: "numeric",
      month: "numeric",
      day: "numeric",
      hour: "numeric",
      minute: "numeric",
    };

    function escapeHtml(unsafe) {
      return unsafe
           .replace(/&/g, "&amp;")
           .replace(/</g, "&lt;")
           .replace(/>/g, "&gt;")
           .replace(/"/g, "&quot;")
           .replace(/'/g, "&#039;");
   }

    document.getElementById("load-comment").addEventListener("click", function() {
      document.getElementById("load-comment").innerHTML = "Loading";
      fetch('https://hachyderm.io/api/v1/statuses/113935290602365053/context')
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          if(data['descendants'] &&
             Array.isArray(data['descendants']) &&
            data['descendants'].length > 0) {
              document.getElementById('mastodon-comments-list').innerHTML = "";
              data['descendants'].forEach(function(reply) {
                reply.account.display_name = escapeHtml(reply.account.display_name);
                reply.account.reply_class = reply.in_reply_to_id == "113935290602365053" ? "reply-original" : "reply-child";
                reply.account.emojis.forEach(emoji => {
                  reply.account.display_name = reply.account.display_name.replace(`:${emoji.shortcode}:`,
                    `<img src="${escapeHtml(emoji.static_url)}" alt="Emoji ${emoji.shortcode}" height="20" width="20" />`);
                });
                mastodonComment =
                  `<div class="mastodon-wrapper">
                    <div class="comment-level ${reply.account.reply_class}"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="none" transform="rotate(180)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path stroke="#535358" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.608 12.526l7.04-6.454C13.931 4.896 16 5.806 16 7.546V11c13 0 11 16 11 16s-4-10-11-10v3.453c0 1.74-2.069 2.65-3.351 1.475l-7.04-6.454a2 2 0 010-2.948z"></path> </g></svg></div>
                    <div class="mastodon-comment">
                     <div class="avatar">
                       <img src="${escapeHtml(reply.account.avatar_static)}" height=60 width=60 alt="">
                     </div>
                     <div class="content">
                       <div class="author">
                         <a href="${reply.account.url}" rel="nofollow">
                           <span>${reply.account.display_name}</span>
                           <span class="disabled">${escapeHtml(reply.account.acct)}</span>
                         </a>
                         <a class="date" href="${reply.uri}" rel="nofollow">
                           ${reply.created_at.substr(0, 10)}
                         </a>
                       </div>
                       <div class="mastodon-comment-content">${reply.content}</div>
                     </div>
                   </div>
                  </div>`;
                document.getElementById('mastodon-comments-list').appendChild(DOMPurify.sanitize(mastodonComment, {'RETURN_DOM_FRAGMENT': true}));
              });
          } else {
            document.getElementById('mastodon-comments-list').innerHTML = "<p>No comments found</p>";
          }
        });
      });
  </script>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/apple/">Apple</a></li>
      <li><a href="http://localhost:1313/tags/homelab/">Homelab</a></li>
      <li><a href="http://localhost:1313/tags/linux/">Linux</a></li>
      <li><a href="http://localhost:1313/tags/mbp/">Mbp</a></li>
      <li><a href="http://localhost:1313/tags/proxmox/">Proxmox</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="http://localhost:1313/post/hass/ha-mqtt-discoverable-0.16.4/">
    <span class="title">Next »</span>
    <br>
    <span>Released ha-mqtt-discoverable 0.16.4</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on x"
            href="https://x.com/intent/tweet/?text=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro&amp;url=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f&amp;hashtags=apple%2chomelab%2clinux%2cmbp%2cproxmox">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f&amp;title=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro&amp;summary=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro&amp;source=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f&title=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on whatsapp"
            href="https://api.whatsapp.com/send?text=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro%20-%20http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on telegram"
            href="https://telegram.me/share/url?text=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro&amp;url=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share How to install Proxmox on a 2019 Macbook Pro on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=How%20to%20install%20Proxmox%20on%20a%202019%20Macbook%20Pro&u=http%3a%2f%2flocalhost%3a1313%2fpost%2fhomelab%2f2025-02-01-install-proxmox-on-macbook-pro%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>Copyright 2019-2024, Joe Block. All rights reserved.</span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
        <a rel="me" href="https://hachyderm.io/@unixorn">Mastodon</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
